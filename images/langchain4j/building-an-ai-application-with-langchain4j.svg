<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background and Definitions -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="springGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6db33f;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#5a9e35;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="langchainGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1f2937;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#374151;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:0.9" />
    </linearGradient>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000020"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>

  <rect width="1200" height="800" fill="url(#bgGradient)"/>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" fill="#1f2937" font-size="24" font-weight="bold">
    Langchain4j AI Application Architecture
  </text>

  <!-- Client Layer -->
  <rect x="50" y="80" width="200" height="80" rx="10" fill="#ef4444" fill-opacity="0.1" stroke="#ef4444" stroke-width="2" filter="url(#shadow)"/>
  <text x="150" y="110" text-anchor="middle" fill="#dc2626" font-size="14" font-weight="bold">Client Layer</text>
  <text x="150" y="130" text-anchor="middle" fill="#dc2626" font-size="12">Postman</text>
  <text x="150" y="145" text-anchor="middle" fill="#dc2626" font-size="12">API Testing</text>

  <!-- Spring Boot Application Layer -->
  <rect x="350" y="80" width="500" height="120" rx="10" fill="url(#springGradient)" filter="url(#shadow)"/>
  <text x="600" y="110" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Spring Boot Application</text>

  <!-- REST Controllers -->
  <rect x="370" y="125" width="110" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="425" y="145" text-anchor="middle" fill="#6db33f" font-size="11" font-weight="bold">REST</text>
  <text x="425" y="158" text-anchor="middle" fill="#6db33f" font-size="11" font-weight="bold">Controllers</text>
  <text x="425" y="171" text-anchor="middle" fill="#6db33f" font-size="10">Chat API</text>

  <!-- Service Layer -->
  <rect x="500" y="125" width="110" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="555" y="145" text-anchor="middle" fill="#6db33f" font-size="11" font-weight="bold">Service</text>
  <text x="555" y="158" text-anchor="middle" fill="#6db33f" font-size="11" font-weight="bold">Layer</text>
  <text x="555" y="171" text-anchor="middle" fill="#6db33f" font-size="10">Business Logic</text>

  <!-- Configuration -->
  <rect x="630" y="125" width="110" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="685" y="145" text-anchor="middle" fill="#6db33f" font-size="11" font-weight="bold">Configuration</text>
  <text x="685" y="158" text-anchor="middle" fill="#6db33f" font-size="11" font-weight="bold">&amp; Beans</text>
  <text x="685" y="171" text-anchor="middle" fill="#6db33f" font-size="10">DI Container</text>

  <!-- Langchain4j Core Layer -->
  <rect x="950" y="80" width="200" height="120" rx="10" fill="url(#langchainGradient)" filter="url(#shadow)"/>
  <text x="1050" y="110" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Langchain4j</text>
  <text x="1050" y="130" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Framework</text>

  <!-- Core Components -->
  <rect x="970" y="145" width="70" height="40" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="1005" y="160" text-anchor="middle" fill="#374151" font-size="10" font-weight="bold">AI Services</text>
  <text x="1005" y="173" text-anchor="middle" fill="#374151" font-size="9">Components</text>

  <rect x="1050" y="145" width="70" height="40" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="1085" y="160" text-anchor="middle" fill="#374151" font-size="10" font-weight="bold">Memory</text>
  <text x="1085" y="173" text-anchor="middle" fill="#374151" font-size="9">Management</text>

  <!-- AI Services Layer -->
  <rect x="100" y="250" width="1000" height="200" rx="10" fill="url(#aiGradient)" fill-opacity="0.1" stroke="url(#aiGradient)" stroke-width="2" filter="url(#shadow)"/>
  <text x="600" y="280" text-anchor="middle" fill="#1d4ed8" font-size="18" font-weight="bold">AI Services &amp; Components</text>

  <!-- Chat Service -->
  <rect x="130" y="300" width="140" height="80" rx="8" fill="#3b82f6" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="200" y="325" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Chat Service</text>
  <text x="200" y="340" text-anchor="middle" fill="white" font-size="10">Conversational AI</text>
  <text x="200" y="355" text-anchor="middle" fill="white" font-size="10">Message Handling</text>
  <text x="200" y="370" text-anchor="middle" fill="white" font-size="10">Context Management</text>

  <!-- Custom Tools -->
  <rect x="290" y="300" width="140" height="80" rx="8" fill="#10b981" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="360" y="325" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Custom Tools</text>
  <text x="360" y="340" text-anchor="middle" fill="white" font-size="10">Function Calling</text>
  <text x="360" y="355" text-anchor="middle" fill="white" font-size="10">External APIs</text>
  <text x="360" y="370" text-anchor="middle" fill="white" font-size="10">Tool Integration</text>

  <!-- Translation Service -->
  <rect x="450" y="300" width="140" height="80" rx="8" fill="#f59e0b" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="520" y="325" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Translation</text>
  <text x="520" y="340" text-anchor="middle" fill="white" font-size="10">Multi-language</text>
  <text x="520" y="355" text-anchor="middle" fill="white" font-size="10">Support</text>
  <text x="520" y="370" text-anchor="middle" fill="white" font-size="10">Language Detection</text>

  <!-- Streaming Service -->
  <rect x="610" y="300" width="140" height="80" rx="8" fill="#8b5cf6" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="680" y="325" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Streaming</text>
  <text x="680" y="340" text-anchor="middle" fill="white" font-size="10">Real-time</text>
  <text x="680" y="355" text-anchor="middle" fill="white" font-size="10">Response</text>
  <text x="680" y="370" text-anchor="middle" fill="white" font-size="10">Token Streaming</text>

  <!-- Retrieval Service -->
  <rect x="770" y="300" width="140" height="80" rx="8" fill="#ef4444" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="840" y="325" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Retrieval</text>
  <text x="840" y="340" text-anchor="middle" fill="white" font-size="10">RAG Pattern</text>
  <text x="840" y="355" text-anchor="middle" fill="white" font-size="10">Document Search</text>
  <text x="840" y="370" text-anchor="middle" fill="white" font-size="10">Context Injection</text>

  <!-- Persistence -->
  <rect x="930" y="300" width="140" height="80" rx="8" fill="#6366f1" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="1000" y="325" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Persistence</text>
  <text x="1000" y="340" text-anchor="middle" fill="white" font-size="10">Data Storage</text>
  <text x="1000" y="355" text-anchor="middle" fill="white" font-size="10">Session Management</text>
  <text x="1000" y="370" text-anchor="middle" fill="white" font-size="10">State Persistence</text>

  <!-- Data & Storage Layer -->
  <rect x="150" y="500" width="900" height="150" rx="10" fill="url(#dataGradient)" fill-opacity="0.1" stroke="url(#dataGradient)" stroke-width="2" filter="url(#shadow)"/>
  <text x="600" y="530" text-anchor="middle" fill="#7c3aed" font-size="18" font-weight="bold">Data &amp; Storage Layer</text>

  <!-- Local LLM -->
  <rect x="200" y="550" width="160" height="80" rx="8" fill="#1f2937" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="280" y="575" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Local Language</text>
  <text x="280" y="590" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Model</text>
  <text x="280" y="605" text-anchor="middle" fill="white" font-size="10">Ollama/GPT4All</text>
  <text x="280" y="620" text-anchor="middle" fill="white" font-size="10">Privacy-focused</text>

  <!-- Chroma Vector DB -->
  <rect x="400" y="550" width="160" height="80" rx="8" fill="#8b5cf6" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="480" y="575" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Chroma</text>
  <text x="480" y="590" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Vector Database</text>
  <text x="480" y="605" text-anchor="middle" fill="white" font-size="10">Embeddings</text>
  <text x="480" y="620" text-anchor="middle" fill="white" font-size="10">Similarity Search</text>

  <!-- Embedding Models -->
  <rect x="600" y="550" width="160" height="80" rx="8" fill="#059669" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="680" y="575" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Embedding</text>
  <text x="680" y="590" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Models</text>
  <text x="680" y="605" text-anchor="middle" fill="white" font-size="10">Text Vectorization</text>
  <text x="680" y="620" text-anchor="middle" fill="white" font-size="10">Semantic Search</text>

  <!-- Persistent Storage -->
  <rect x="800" y="550" width="160" height="80" rx="8" fill="#dc2626" fill-opacity="0.9" filter="url(#shadow)"/>
  <text x="880" y="575" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Persistent</text>
  <text x="880" y="590" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Storage</text>
  <text x="880" y="605" text-anchor="middle" fill="white" font-size="10">Database</text>
  <text x="880" y="620" text-anchor="middle" fill="white" font-size="10">File System</text>

  <!-- Data Flow Arrows -->
  <path d="M 250 120 L 350 120" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 850 140 L 950 140" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 600 200 L 600 250" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 600 450 L 600 500" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 200 380 L 280 550" stroke="#6b7280" stroke-width="1" fill="none" stroke-dasharray="5,5"/>
  <path d="M 840 380 L 480 550" stroke="#6b7280" stroke-width="1" fill="none" stroke-dasharray="5,5"/>
  <path d="M 680 380 L 680 550" stroke="#6b7280" stroke-width="1" fill="none" stroke-dasharray="5,5"/>
  <path d="M 1000 380 L 880 550" stroke="#6b7280" stroke-width="1" fill="none" stroke-dasharray="5,5"/>

  <!-- Technology Labels -->
  <rect x="50" y="720" width="1100" height="60" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="600" y="740" text-anchor="middle" fill="#374151" font-size="14" font-weight="bold">Technology Stack</text>
  <text x="150" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Java</text>
  <text x="250" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Spring Boot</text>
  <text x="350" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Langchain4j</text>
  <text x="450" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Local LLM</text>
  <text x="550" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Chroma DB</text>
  <text x="650" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Vector Embeddings</text>
  <text x="750" y="760" text-anchor="middle" fill="#6b7280" font-size="11">REST APIs</text>
  <text x="850" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Streaming</text>
  <text x="950" y="760" text-anchor="middle" fill="#6b7280" font-size="11">RAG Pattern</text>
  <text x="1050" y="760" text-anchor="middle" fill="#6b7280" font-size="11">Postman</text>
</svg>
