<!DOCTYPE html>
<html lang="en">
  <head><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <link rel="icon" href="/img/favicon.ico">
    

    <meta property="og:url" content="https://seehiong.github.io/posts/2023/06/how-to-summarize-youtube-videos-in-minutes-ii/">
  <meta property="og:site_name" content="See Hiong&#39;s Blog">
  <meta property="og:title" content="How to summarize YouTube Videos in Minutes (II)">
  <meta property="og:description" content="In this comprehensive guide, I explore AI-powered techniques to extract and summarize YouTube videos using tools like Whisper.cpp, GPT4All, LLaMA.cpp, and OpenAI models. I detail the step-by-step process, from setting up the environment to transcribing audio and leveraging AI for summarization. Despite encountering issues with GPT4All’s accuracy, alternative approaches using LLaMA.cpp and OpenAI models provide versatile summarization options. The tutorial aims to empower researchers, content creators, and information enthusiasts to efficiently analyze and summarize YouTube content using cutting-edge AI technologies.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-06-16T20:00:00+20:00">
    <meta property="article:modified_time" content="2023-06-16T20:00:00+20:00">
    <meta property="article:tag" content="LangChain">
    <meta property="article:tag" content="Youtube">
    <meta property="article:tag" content="GPT4All">
    <meta property="article:tag" content="OpenAI">
    <meta property="article:tag" content="Whisper">
    <meta property="article:tag" content="LLaMA">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="How to summarize YouTube Videos in Minutes (II)">
  <meta name="twitter:description" content="In this comprehensive guide, I explore AI-powered techniques to extract and summarize YouTube videos using tools like Whisper.cpp, GPT4All, LLaMA.cpp, and OpenAI models. I detail the step-by-step process, from setting up the environment to transcribing audio and leveraging AI for summarization. Despite encountering issues with GPT4All’s accuracy, alternative approaches using LLaMA.cpp and OpenAI models provide versatile summarization options. The tutorial aims to empower researchers, content creators, and information enthusiasts to efficiently analyze and summarize YouTube content using cutting-edge AI technologies.">

  <meta itemprop="name" content="How to summarize YouTube Videos in Minutes (II)">
  <meta itemprop="description" content="In this comprehensive guide, I explore AI-powered techniques to extract and summarize YouTube videos using tools like Whisper.cpp, GPT4All, LLaMA.cpp, and OpenAI models. I detail the step-by-step process, from setting up the environment to transcribing audio and leveraging AI for summarization. Despite encountering issues with GPT4All’s accuracy, alternative approaches using LLaMA.cpp and OpenAI models provide versatile summarization options. The tutorial aims to empower researchers, content creators, and information enthusiasts to efficiently analyze and summarize YouTube content using cutting-edge AI technologies.">
  <meta itemprop="datePublished" content="2023-06-16T20:00:00+20:00">
  <meta itemprop="dateModified" content="2023-06-16T20:00:00+20:00">
  <meta itemprop="wordCount" content="988">
  <meta itemprop="keywords" content="LangChain,Youtube,GPT4All,OpenAI,Whisper,LLaMA,AI"><title>How to summarize YouTube Videos in Minutes (II) | See Hiong&#39;s Blog</title>

    <link rel="canonical" href="https://seehiong.github.io/posts/2023/06/how-to-summarize-youtube-videos-in-minutes-ii/">

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    
    <link rel="stylesheet" href="/css/variables.css">
    
    <link rel="stylesheet" href="/css/base.css">
    
    <link rel="stylesheet" href="/css/layout.css">
    
    <link rel="stylesheet" href="/css/header.css">
    
    <link rel="stylesheet" href="/css/header.css">
    
    <link rel="stylesheet" href="/css/cards.css">
    
    <link rel="stylesheet" href="/css/content_elements.css">
    
    <link rel="stylesheet" href="/css/codeblocks.css">
    
    <link rel="stylesheet" href="/css/page_specific.css">
    
    <link rel="stylesheet" href="/css/shortcodes.css">
    
    <link rel="stylesheet" href="/css/components.css">
    
    <link rel="stylesheet" href="/css/animations.css">
    
    <link rel="stylesheet" href="/css/media_queries.css">
    
    <link rel="stylesheet" href="/css/quantum-theme.css">
    

    
    <script>
      (function() {
        var theme = localStorage.getItem('theme');
        var H = document.documentElement;
        if (theme === 'dark-mode') {
          H.classList.add('dark-mode');
        } else if (theme === 'light-mode') {
          H.classList.remove('dark-mode');
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          H.classList.add('dark-mode');
        }
      })();
    </script>
</head></head>
  <body class="page-article"><nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/" class="nav-logo-link" title="See Hiong&#39;s Blog - Home">
          
          
          <img src="/images/blog_logo.png" alt="See Hiong&#39;s Blog Logo" class="nav-logo-image">
        </a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            
            
            <a href="/posts/" class="nav-item-content active">Archives</a>
            
          </div>
          
          
          <div class="nav-item-wrapper">
            <a href="/tags/" class="nav-item-content ">Tags</a>
          </div>
          <div class="nav-item-wrapper">
            <a href="/about/" class="nav-item-content ">About</a>
          </div>
          <div class="nav-item-wrapper nav-search-toggle-wrapper">
            <button id="nav-search-toggle" class="nav-item-button" aria-label="Toggle search" title="Search">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor" class="nav-item-icon">
                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
              </svg>
            </button>
          </div>
          
          
          <button id="theme-toggle" class="nav-item-button" aria-label="Toggle theme"></button> 
        </div>
      </div>
    </div>
  </div>
</nav>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    const themeToggle = document.getElementById('theme-toggle');
    const H = document.documentElement; 

    if (H.classList.contains('dark-mode')) {
      themeToggle.textContent = 'Light Mode';
    } else {
      themeToggle.textContent = 'Dark Mode';
    }

    themeToggle.addEventListener('click', function() {
      H.classList.toggle('dark-mode');
      if (H.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark-mode');
        themeToggle.textContent = 'Light Mode';
      } else {
        localStorage.setItem('theme', 'light-mode');
        themeToggle.textContent = 'Dark Mode';
      }
    });
  });
</script><div id="content-wrapper">
        <main class="container" id="main-content">
<div class="main-content-area">
  <article class="post-layout container">

    <header class="post-header">
      <h1 class="post-title">How to summarize YouTube Videos in Minutes (II)</h1>

      <div class="post-meta">
        <span class="post-meta__date">
          <time datetime="2023-06-16T20:00:00&#43;20:00">June 16, 2023</time>
        </span>

        
          <span class="post-meta__author">Written by See Hiong</span>
        

        
          <span class="post-meta__tags">
            In:
            
              <a href="/tags/langchain">LangChain</a>
            
              , <a href="/tags/youtube">Youtube</a>
            
              , <a href="/tags/gpt4all">GPT4All</a>
            
              , <a href="/tags/openai">OpenAI</a>
            
              , <a href="/tags/whisper">Whisper</a>
            
              , <a href="/tags/llama">LLaMA</a>
            
              , <a href="/tags/ai">AI</a>
            
          </span>
        

        
      </div>
    </header>

    
      
      
      <div class="post-cover-container post-cover--artistic-blur-wrapper">
        
          <div class="post-cover-blur-background" style="--bg-image: url('/images/youtube/how-to-summarize-youtube-videos-in-minutes.png');"></div>
          <img src="/images/youtube/how-to-summarize-youtube-videos-in-minutes.png" alt="How to summarize YouTube Videos in Minutes (II) cover image" class="post-cover-image post-cover-image--artistic-blur">
        
      </div>
    

    <section class="post-content">
      <p>In continuation with the 






  <a href="/posts/2023/06/how-to-summarize-youtube-videos-in-minutes-i/" >previous</a>
 post, we will explore the power of AI by leveraging the 






  <a href="https://github.com/ggerganov/whisper.cpp" target="_blank" rel="noopener noreferrer" >whisper.cpp</a>
 library to convert audio to text, extracting audio from YouTube videos using 






  <a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener noreferrer" >yt-dlp</a>
, and demonstrating how to utilize AI models like GPT4All and OpenAI for summarization.</p>
<h2 id="setting-up-the-environment">Setting Up the Environment</h2>
<p>To get started, we need to set up the necessary tools and libraries. Follow the steps below:</p>
<ol>
<li>Installing whisper.cpp: Begin by cloning the whisper.cpp repository from GitHub and downloading the base.en model.</li>
</ol>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/ggerganov/whisper.cpp.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">cd</span> ~/whisper.cpp/models
</span></span><span style="display:flex;"><span>./download-ggml-model.sh base.en</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><ol start="2">
<li>Verifying the Installation: Once the model is downloaded, you can test the installation by running a sample command:</li>
</ol>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>Downloading ggml model base.en from <span style="color:#0a3069">&#39;https://huggingface.co/ggerganov/whisper.cpp&#39;</span> ...
</span></span><span style="display:flex;"><span>ggml-base.en.bin      100%<span style="color:#0550ae">[========================</span>&gt;<span style="color:#0550ae">]</span> 141.11M  10.9MB/s    in 14s
</span></span><span style="display:flex;"><span>Done! Model <span style="color:#0a3069">&#39;base.en&#39;</span> saved in <span style="color:#0a3069">&#39;models/ggml-base.en.bin&#39;</span>
</span></span><span style="display:flex;"><span>You can now use it like this:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  $ ./main -m models/ggml-base.en.bin -f samples/jfk.wav</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><ol start="3">
<li>Installing OpenBLAS: Ensure that 






  <a href="https://www.openblas.net/" target="_blank" rel="noopener noreferrer" >OpenBLAS</a>
, a mathematical library, is installed on your system. This step is necessary for building whisper.cpp with OpenBLAS support.</li>
</ol>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#6639ba">cd</span> ~/whisper.cpp
</span></span><span style="display:flex;"><span>make clean
</span></span><span style="display:flex;"><span><span style="color:#953800">WHISPER_OPENBLAS</span><span style="color:#0550ae">=</span><span style="color:#0550ae">1</span> make -j</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>This is the sample output (with BLAS = 1):</p>


































 
  
  





  <img src="/images/youtube/whisper-sample-wav.png"   alt="whisper-sample-wav.png" class="sc-image sc-image-default"
       >


<ol start="4">
<li>Installing FFmpeg: 






  <a href="https://ffmpeg.org/download.html" target="_blank" rel="noopener noreferrer" >FFmpeg</a>
 is required for audio conversion. Install it using the appropriate package manager for your system.</li>
</ol>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt install ffmpeg</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><ol start="5">
<li>Installing yt-dlp and whispercpp: Use pip to install 






  <a href="https://github.com/yt-dlp/yt-dlp/wiki/Installation#with-pip" target="_blank" rel="noopener noreferrer" >yt-dlp</a>
, a YouTube downloader, and the 






  <a href="https://github.com/aarnphm/whispercpp" target="_blank" rel="noopener noreferrer" >Python binding</a>
 for whisper.cpp.</li>
</ol>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>python3 -m pip install -U yt-dlp
</span></span><span style="display:flex;"><span>pip install whispercpp ffmpeg-python</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><h2 id="extracting-audio-from-youtube-videos">Extracting Audio from YouTube Videos</h2>
<p>In this section, we will demonstrate how to extract audio from YouTube videos using the yt-dlp library. Here&rsquo;s the code snippet:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">__future__</span> <span style="color:#cf222e">import</span> unicode_literals
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#24292e">yt_dlp</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">def</span> <span style="color:#6639ba">extract_audio</span><span style="color:#1f2328">(</span>urls<span style="color:#1f2328">):</span>
</span></span><span style="display:flex;"><span>    ydl_opts <span style="color:#0550ae">=</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#0a3069">&#39;format&#39;</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#39;wav/bestaudio/best&#39;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#0a3069">&#39;postprocessors&#39;</span><span style="color:#1f2328">:</span> <span style="color:#1f2328">[{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#0a3069">&#39;key&#39;</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#39;FFmpegExtractAudio&#39;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#0a3069">&#39;preferredcodec&#39;</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#39;wav&#39;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">}],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#0a3069">&#39;verbose&#39;</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#39;true&#39;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#0a3069">&#39;outtmpl&#39;</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#39;sample_audio&#39;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">with</span> yt_dlp<span style="color:#0550ae">.</span>YoutubeDL<span style="color:#1f2328">(</span>ydl_opts<span style="color:#1f2328">)</span> <span style="color:#cf222e">as</span> ydl<span style="color:#1f2328">:</span>
</span></span><span style="display:flex;"><span>        ydl<span style="color:#0550ae">.</span>download<span style="color:#1f2328">(</span>urls<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>URLS <span style="color:#0550ae">=</span> <span style="color:#1f2328">[</span><span style="color:#0a3069">&#39;https://www.youtube.com/watch?v=BaW_jenozKc&#39;</span><span style="color:#1f2328">]</span>
</span></span><span style="display:flex;"><span>extract_audio<span style="color:#1f2328">(</span>URLS<span style="color:#1f2328">)</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div>

































 
  
  





  <img src="/images/youtube/whisper-extract-audio-from-youtube-video.png"   alt="whisper-extract-audio-from-youtube-video.png" class="sc-image sc-image-default"
       >


<h2 id="utilizing-whisper-to-transcribe-audio">Utilizing Whisper to Transcribe Audio</h2>
<p>With the audio extracted, we can now utilize the whisper.cpp library to transcribe the audio into text. Follow the code snippet below:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">whispercpp</span> <span style="color:#cf222e">import</span> Whisper
</span></span><span style="display:flex;"><span>w <span style="color:#0550ae">=</span> Whisper<span style="color:#0550ae">.</span>from_pretrained<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;base.en&#34;</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#24292e">ffmpeg</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#24292e">numpy</span> <span style="color:#cf222e">as</span> <span style="color:#24292e">np</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">def</span> <span style="color:#6639ba">transcribe_audio</span><span style="color:#1f2328">(</span>filename<span style="color:#1f2328">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">try</span><span style="color:#1f2328">:</span>
</span></span><span style="display:flex;"><span>        y<span style="color:#1f2328">,</span> _ <span style="color:#0550ae">=</span> <span style="color:#1f2328">(</span>
</span></span><span style="display:flex;"><span>            ffmpeg<span style="color:#0550ae">.</span>input<span style="color:#1f2328">(</span>filename<span style="color:#1f2328">,</span> threads<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#0550ae">.</span>output<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;-&#34;</span><span style="color:#1f2328">,</span> <span style="color:#6639ba">format</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;s16le&#34;</span><span style="color:#1f2328">,</span> acodec<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;pcm_s16le&#34;</span><span style="color:#1f2328">,</span> ac<span style="color:#0550ae">=</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span> ar<span style="color:#0550ae">=</span><span style="color:#0550ae">16000</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#0550ae">.</span>run<span style="color:#1f2328">(</span>cmd<span style="color:#0550ae">=</span><span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;ffmpeg&#34;</span><span style="color:#1f2328">,</span> <span style="color:#0a3069">&#34;-nostdin&#34;</span><span style="color:#1f2328">],</span> capture_stdout<span style="color:#0550ae">=</span><span style="color:#cf222e">True</span><span style="color:#1f2328">,</span> capture_stderr<span style="color:#0550ae">=</span><span style="color:#cf222e">True</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">except</span> ffmpeg<span style="color:#0550ae">.</span>Error <span style="color:#cf222e">as</span> e<span style="color:#1f2328">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">raise</span> RuntimeError<span style="color:#1f2328">(</span><span style="color:#0a3069">f</span><span style="color:#0a3069">&#34;Failed to load audio: </span><span style="color:#0a3069">{</span>e<span style="color:#0550ae">.</span>stderr<span style="color:#0550ae">.</span>decode<span style="color:#1f2328">()</span><span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span><span style="color:#1f2328">)</span> <span style="color:#cf222e">from</span> <span style="color:#24292e">e</span>
</span></span><span style="display:flex;"><span>    arr <span style="color:#0550ae">=</span> np<span style="color:#0550ae">.</span>frombuffer<span style="color:#1f2328">(</span>y<span style="color:#1f2328">,</span> np<span style="color:#0550ae">.</span>int16<span style="color:#1f2328">)</span><span style="color:#0550ae">.</span>flatten<span style="color:#1f2328">()</span><span style="color:#0550ae">.</span>astype<span style="color:#1f2328">(</span>np<span style="color:#0550ae">.</span>float32<span style="color:#1f2328">)</span> <span style="color:#0550ae">/</span> <span style="color:#0550ae">32768.0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> w<span style="color:#0550ae">.</span>transcribe<span style="color:#1f2328">(</span>arr<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>filename <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;sample_audio.wav&#34;</span>
</span></span><span style="display:flex;"><span>transcribe_audio<span style="color:#1f2328">(</span>filename<span style="color:#1f2328">)</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>This code snippet uses the Whisper library to transcribe the audio stored in the &ldquo;sample_audio.wav&rdquo; file. The audio is processed using ffmpeg to convert it into a format suitable for transcription. The resulting transcription is stored in the transcripted variable and printed to the console:</p>


































 
  
  





  <img src="/images/youtube/whisper-transcript-from-wav.png"   alt="whisper-transcript-from-wav.png" class="sc-image sc-image-default"
       >


<h2 id="putting-it-together-extracting-and-summarizing-youtube-videos">Putting it Together: Extracting and Summarizing YouTube Videos</h2>
<p>Now let&rsquo;s bring everything together by extracting audio from a YouTube video and using AI models for summarization.</p>
<p>First, we&rsquo;ll download audio from a YouTube video. In this example, we&rsquo;ll use the video 






  <a href="https://www.youtube.com/watch?v=aywZrzNaKjs" target="_blank" rel="noopener noreferrer" >LangChain Explained in 13 Minutes</a>
 as an example. The downloaded audio will be saved as &ldquo;sample_audio.wav&rdquo;. Here&rsquo;s the code snippet to download the audio:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>URLS <span style="color:#0550ae">=</span> <span style="color:#1f2328">[</span><span style="color:#0a3069">&#39;https://www.youtube.com/watch?v=aywZrzNaKjs&#39;</span><span style="color:#1f2328">]</span>
</span></span><span style="display:flex;"><span>extract_audio<span style="color:#1f2328">(</span>URLS<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>filename <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;sample_audio.wav&#34;</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>Next, we&rsquo;ll transcribe the audio using the Whisper library as shown earlier:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>transcripted <span style="color:#0550ae">=</span> transcribe_audio<span style="color:#1f2328">(</span>filename<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">print</span><span style="color:#1f2328">(</span>transcripted<span style="color:#1f2328">)</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div>

































 
  
  





  <img src="/images/youtube/whisper-transcript-from-extracted-wav.png"   alt="whisper-transcript-from-extracted-wav.png" class="sc-image sc-image-default"
       >


<p>Now, let&rsquo;s summarize the transcribed text using an AI model like GPT4All:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.llms</span> <span style="color:#cf222e">import</span> GPT4All
</span></span><span style="display:flex;"><span>llm <span style="color:#0550ae">=</span> GPT4All<span style="color:#1f2328">(</span>model<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;/home/pi/models/ggml-gpt4all-j-v1.3-groovy.bin&#34;</span><span style="color:#1f2328">,</span> n_ctx<span style="color:#0550ae">=</span><span style="color:#0550ae">2048</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.chains.summarize</span> <span style="color:#cf222e">import</span> load_summarize_chain
</span></span><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.chains</span> <span style="color:#cf222e">import</span> AnalyzeDocumentChain
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>summary_chain <span style="color:#0550ae">=</span> load_summarize_chain<span style="color:#1f2328">(</span>llm<span style="color:#1f2328">,</span> chain_type<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;map_reduce&#34;</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>summarize_document_chain <span style="color:#0550ae">=</span> AnalyzeDocumentChain<span style="color:#1f2328">(</span>combine_docs_chain<span style="color:#0550ae">=</span>summary_chain<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>summarize_document_chain<span style="color:#0550ae">.</span>run<span style="color:#1f2328">(</span>transcripted<span style="color:#1f2328">)</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>The code above demonstrates the utilization of the GPT4All model for summarizing the transcribed text. It involves loading the required chains and initiating the summarization process.</p>
<p>However, it appears that the generated results from the AI model are not accurate, as shown in the provided example output:</p>


































 
  
  





  <img src="/images/youtube/analyze-document-summarize-chain-strange-results.png"   alt="analyze-document-summarize-chain-strange-results.png" class="sc-image sc-image-default"
       >


<p>This generated output seems to be unrelated and doesn&rsquo;t provide the expected summarization.</p>
<p>It&rsquo;s important to note that the quality and accuracy of AI-generated summaries can vary depending on the model and the specific use case. In this instance, the GPT4All model did not produce the desired results.</p>
<p>By combining the steps of audio extraction, transcription, and alternative summarization techniques, you can still leverage AI-powered tools to extract and summarize YouTube videos effectively.</p>
<h2 id="utilizing-llamacpp-for-summarization-optional">Utilizing LLaMA.cpp for Summarization (Optional)</h2>
<p>An alternative approach is to employ LLaMA.cpp for the summarization task. For the setup process, you can refer to my 






  <a href="/posts/2023/04/running-llama-model-locally/" >previous</a>
 post.</p>
<p>Here&rsquo;s an example code snippet showcasing the usage of LLaMA.cpp:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.llms</span> <span style="color:#cf222e">import</span> LlamaCpp
</span></span><span style="display:flex;"><span>llm <span style="color:#0550ae">=</span> LlamaCpp<span style="color:#1f2328">(</span>model_path<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;/home/pi/models/WizardLM-7B-uncensored.ggmlv3.q5_0.bin&#34;</span><span style="color:#1f2328">,</span> n_ctx<span style="color:#0550ae">=</span><span style="color:#0550ae">2048</span><span style="color:#1f2328">,</span> verbose<span style="color:#0550ae">=</span><span style="color:#cf222e">True</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>summary_chain <span style="color:#0550ae">=</span> load_summarize_chain<span style="color:#1f2328">(</span>llm<span style="color:#1f2328">,</span> chain_type<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;map_reduce&#34;</span><span style="color:#1f2328">,</span> verbose<span style="color:#0550ae">=</span><span style="color:#cf222e">True</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>summarize_document_chain <span style="color:#0550ae">=</span> AnalyzeDocumentChain<span style="color:#1f2328">(</span>combine_docs_chain<span style="color:#0550ae">=</span>summary_chain<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>summarize_document_chain<span style="color:#0550ae">.</span>run<span style="color:#1f2328">(</span>transcripted<span style="color:#1f2328">)</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>The image below displays the generated output from this summarization process:</p>


































 
  
  





  <img src="/images/youtube/analyze-document-summarize-chain-with-llama-cpp.png"   alt="analyze-document-summarize-chain-with-llama-cpp.png" class="sc-image sc-image-default"
       >


<p>By employing LLaMA.cpp, you can explore an alternative approach to summarizing the transcribed text. Remember to follow the setup instructions provided in the mentioned previous post to utilize LLaMA.cpp effectively.</p>
<h2 id="utilizing-openai-for-summarization-optional">Utilizing OpenAI for Summarization (Optional)</h2>
<p>For an alternative approach, you can leverage OpenAI models for the summarization task. Take a look at the following code snippet:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#24292e">os</span>
</span></span><span style="display:flex;"><span>os<span style="color:#0550ae">.</span>environ<span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;OPENAI_API_KEY&#34;</span><span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;sk-...2o&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.chat_models</span> <span style="color:#cf222e">import</span> ChatOpenAI
</span></span><span style="display:flex;"><span>llm <span style="color:#0550ae">=</span> ChatOpenAI<span style="color:#1f2328">(</span>temperature<span style="color:#0550ae">=</span><span style="color:#0550ae">0.0</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.chains.summarize</span> <span style="color:#cf222e">import</span> load_summarize_chain
</span></span><span style="display:flex;"><span><span style="color:#cf222e">from</span> <span style="color:#24292e">langchain.chains</span> <span style="color:#cf222e">import</span> AnalyzeDocumentChain
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>summary_chain <span style="color:#0550ae">=</span> load_summarize_chain<span style="color:#1f2328">(</span>llm<span style="color:#1f2328">,</span> chain_type<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;map_reduce&#34;</span><span style="color:#1f2328">,</span> verbose<span style="color:#0550ae">=</span><span style="color:#cf222e">True</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>summarize_document_chain <span style="color:#0550ae">=</span> AnalyzeDocumentChain<span style="color:#1f2328">(</span>combine_docs_chain<span style="color:#0550ae">=</span>summary_chain<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>summarize_document_chain<span style="color:#0550ae">.</span>run<span style="color:#1f2328">(</span>transcripted<span style="color:#1f2328">)</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>This code snippet demonstrates the utilization of OpenAI&rsquo;s Chat models for the summarization process. It involves setting the OpenAI API key, loading the required chains, and executing the summarization.</p>
<p>The resulting output can be seen in the image below:</p>


































 
  
  





  <img src="/images/youtube/analyze-document-summarize-chain-success.png"   alt="analyze-document-summarize-chain-success.png" class="sc-image sc-image-default"
       >


<p>By incorporating OpenAI models into your workflow, you can obtain alternative summarization outcomes. The provided code snippet showcases how to seamlessly integrate OpenAI models for this purpose.</p>
<p>That concludes our exploration of utilizing AI techniques to extract and summarize information from YouTube videos. By employing tools like Whisper.cpp, GPT4ALL, LLaMA.cpp, and OpenAI models, you can leverage the power of AI to extract audio, transcribe it, and generate concise summaries. These techniques offer valuable applications for tasks such as content analysis, research, and information retrieval.</p>
<p>By incorporating these AI-powered approaches into your workflows, you can streamline the process of extracting key insights from video content. Whether you&rsquo;re a researcher, content creator, or information enthusiast, these tools provide efficient and effective means of analyzing and summarizing YouTube videos.</p>

    </section>

    <nav class="post-navigation">
      <div class="nav-links">
        
          <div class="nav-previous">
            <a href="/posts/2023/06/how-to-summarize-youtube-videos-in-minutes-i/" rel="prev">
              <span class="meta-nav">← Previous</span>
              <span class="post-title">How to summarize YouTube Videos in Minutes (I)</span>
            </a>
          </div>
        
        
          <div class="nav-next">
            <a href="/posts/2023/07/unleashing-the-power-of-llama-server-in-docker-container/" rel="next">
              <span class="meta-nav">Next →</span>
              <span class="post-title">Unleashing the Power of LLaMA Server in Docker Container</span>
            </a>
          </div>
        
      </div>
    </nav>

    
<div class="giscus-comments-container">
</div>

<script>
  (function() {
    'use strict';

    const getGiscusTheme = () => {
      const storedTheme = localStorage.getItem('theme'); 
      if (storedTheme) {
        return storedTheme === 'dark-mode' ? 'dark' : 'light';
      }
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };

    const setGiscusFrameTheme = (theme) => {
      const iframe = document.querySelector('iframe.giscus-frame');
      if (iframe && iframe.contentWindow) {
        iframe.contentWindow.postMessage({ giscus: { setConfig: { theme: theme } } }, 'https://giscus.app');
      }
    };

    const loadGiscus = () => {
      const giscusContainer = document.querySelector('.giscus-comments-container');
      if (!giscusContainer) {
        console.warn('Giscus container not found.');
        return;
      }

      while (giscusContainer.firstChild) {
        giscusContainer.removeChild(giscusContainer.firstChild);
      }

      const giscusScript = document.createElement('script');
      const giscusAttributes = {
        "src": "https://giscus.app/client.js",
        "data-repo":             "seehiong\/seehiong.github.io",
        "data-repo-id":          "R_kgDOJg7Puw",
        "data-category":         "General",
        "data-category-id":      "DIC_kwDOJg7Pu84Cbyhc",
        "data-mapping":          "url", 
        "data-strict":           "0",
        "data-reactions-enabled":"1",
        "data-emit-metadata":    "0",
        "data-input-position":   "top", 
        "data-theme":            getGiscusTheme(), 
        "data-lang":             "en",
        "data-loading":          "lazy",
        "crossorigin":           "anonymous",
        "async":                 "true", 
      };

      if (!giscusAttributes["data-repo"] || !giscusAttributes["data-repo-id"] || !giscusAttributes["data-category-id"]) {
          console.error("Giscus parameters (giscusRepo, giscusRepoId, giscusCategoryId) are not configured in hugo.toml.");
          giscusContainer.innerHTML = "<p style='color: var(--text-secondary);'>Giscus comments are not configured correctly. Please check site parameters.</p>";
          return;
      }

      Object.entries(giscusAttributes).forEach(
        ([key, value]) => giscusScript.setAttribute(key, value)
      );
      giscusContainer.appendChild(giscusScript);
    };

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadGiscus);
    } else {
        loadGiscus();
    }

    const htmlElement = document.documentElement;
    const observer = new MutationObserver((mutationsList) => {
      for (const mutation of mutationsList) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
          setGiscusFrameTheme(getGiscusTheme());
        }
      }
    });
    observer.observe(htmlElement, { attributes: true });

  })();
</script>


  </article>
</div>
</main>
    </div>

    
    <div id="search-modal-overlay" class="search-modal-overlay" style="display: none;">
      <div id="search-modal-content" class="search-modal-content">
        <button id="search-modal-close" class="search-modal-close" aria-label="Close search" title="Close search">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
        <input type="search" id="modal-search-input" class="modal-search-input" placeholder="Search content..." aria-label="Search input">
        <div id="modal-search-results" class="modal-search-results">
        </div>
      </div>
    </div>
    

  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js" defer></script>
  <script>
    (function() {
      'use strict';

      window.addEventListener('DOMContentLoaded', () => {
        const searchModalOverlay = document.getElementById('search-modal-overlay');
        const searchModalContent = document.getElementById('search-modal-content');
        const searchModalCloseButton = document.getElementById('search-modal-close');
        const searchToggleButton = document.getElementById('nav-search-toggle');
        const searchInputTarget = document.getElementById('modal-search-input');
        const searchResultsTarget = document.getElementById('modal-search-results');

        let fuseInstance = null;
        let searchData = [];

        const loadSearchData = async () => {
          if (searchData.length === 0 && !fuseInstance) {
            try {
              const response = await fetch('\/index.json');
              if (!response.ok) {
                throw new Error(`HTTP error loading index.json! status: ${response.status}`);
              }
              searchData = await response.json();
              initializeFuse();
            } catch (e) {
              console.error("[SearchSetup] Error loading search data:", e);
              if (searchResultsTarget) searchResultsTarget.innerHTML = "<p>Error loading search index.</p>";
            }
          } else if (searchData.length > 0 && !fuseInstance){
            initializeFuse();
          }
        };

        const initializeFuse = () => {
          if (searchData.length > 0 && !fuseInstance) {
            const options = {
              keys: [
                { name: 'title', weight: 0.7 }, { name: 'summary', weight: 0.5 },
                { name: 'content', weight: 0.3 }, { name: 'tags', weight: 0.4 }
              ],
              includeScore: true, threshold: 0.4, minMatchCharLength: 2,
            };
            fuseInstance = new Fuse(searchData, options);
          }
        };

        const performSearch = () => {
          if (!fuseInstance || !searchInputTarget || !searchResultsTarget) return;
          const query = searchInputTarget.value.trim();
          searchResultsTarget.innerHTML = '';
          if (query.length < 2) return;

          const results = fuseInstance.search(query);
          if (results.length > 0) {
            const ul = document.createElement('ul');
            ul.className = 'search-results-list';
            results.slice(0, 10).forEach(result => {
              const item = result.item;
              const li = document.createElement('li');
              li.className = 'search-result-item';
              const a = document.createElement('a');
              a.href = item.permalink;
              a.textContent = item.title;
              li.appendChild(a);
              ul.appendChild(li);
            });
            searchResultsTarget.appendChild(ul);
          } else {
            searchResultsTarget.innerHTML = '<p>No results found.</p>';
          }
        };

        const openSearchModal = async () => {
          await loadSearchData();
          if (searchInputTarget) searchInputTarget.value = '';
          if (searchResultsTarget) searchResultsTarget.innerHTML = '';

          if (searchModalOverlay) {
            searchModalOverlay.style.display = 'flex';
            setTimeout(() => searchModalOverlay.classList.add('active'), 10);
          } else { return; }

          if (searchInputTarget) setTimeout(() => searchInputTarget.focus(), 50);
          if (searchToggleButton) searchToggleButton.classList.add('active');
        };

        const closeSearchModal = () => {
          if (searchModalOverlay) {
            searchModalOverlay.classList.remove('active');
            setTimeout(() => searchModalOverlay.style.display = 'none', 300);
          }
          if (searchToggleButton) searchToggleButton.classList.remove('active');
        };

        if (searchToggleButton) {
          searchToggleButton.addEventListener('click', (e) => {
            e.stopPropagation();
            if (searchModalOverlay && searchModalOverlay.classList.contains('active')) {
              closeSearchModal();
            } else {
              openSearchModal();
            }
          });
        } else { console.error("[SearchSetup] #nav-search-toggle button not found."); }

        if (searchModalCloseButton) { searchModalCloseButton.addEventListener('click', closeSearchModal); }
        if (searchModalOverlay && searchModalContent) {
          searchModalOverlay.addEventListener('click', (event) => {
            if (event.target === searchModalOverlay) closeSearchModal();
          });
        }
        document.addEventListener('keydown', (event) => {
          if (event.key === 'Escape' && searchModalOverlay && searchModalOverlay.classList.contains('active')) {
            closeSearchModal();
          }
        });
        if (searchInputTarget) {
          let debounceTimer;
          searchInputTarget.addEventListener('input', () => {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(performSearch, 300);
          });
        }
      });
    })();
  </script>

    

    

  <script>
    MathJax = {
      tex: {
        displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        inlineMath: [['\\(', '\\)']], 
        processEscapes: true,
        processEnvironments: true,
        tags: 'ams' 
      },
      svg: {
        fontCache: 'global' 
      },
      chtml: {
        fontURL: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2'
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'], 
        ignoreHtmlClass: 'tex2jax_ignore', 
        processHtmlClass: 'tex2jax_process'
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<footer class="footer-main simplified-footer">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="footer-content">
        <div class="copyright-line">
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> © 2025 See Hiong. All rights reserved.
        </div>
        <div class="social-links">
          
            <a href="https://github.com/seehiong" target="_blank" title="GitHub" class="social-link" aria-label="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
            </a>
          
          
            <a href="https://www.linkedin.com/in/seehiong/" target="_blank" title="LinkedIn" class="social-link" aria-label="LinkedIn">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
            </a>
          
          
            <a href="/index.xml" target="_blank" title="RSS" class="social-link" aria-label="RSS Feed">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg>
            </a>
          
        </div>
      </div>
    </div>
  </div>
</footer>
        <script src="/js/animation.js" defer></script>
    
        <script src="/js/code-copy.js" defer></script>
    
        <script src="/js/scroll-header.js" defer></script>
       
  </body>
</html>