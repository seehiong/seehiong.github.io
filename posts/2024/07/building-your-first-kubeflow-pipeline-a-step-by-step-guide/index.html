<!DOCTYPE html>
<html lang="en">
  <head><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <link rel="icon" href="/img/favicon.ico">
    

    <meta property="og:url" content="https://seehiong.github.io/posts/2024/07/building-your-first-kubeflow-pipeline-a-step-by-step-guide/">
  <meta property="og:site_name" content="See Hiong&#39;s Blog">
  <meta property="og:title" content="Building Your First Kubeflow Pipeline: A Step-by-Step Guide">
  <meta property="og:description" content="In this blog post, I guide you through creating and running your first Kubeflow pipeline. We’ll start with the “Hello World” example, demonstrate how to manage sequential and shared pipelines, and explore artifact storage with MinIO. Additionally, I’ll introduce K9s, a powerful terminal-based UI for managing your Kubernetes clusters efficiently. By the end, you’ll have a solid understanding of setting up and managing Kubeflow pipelines in your machine learning workflows.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-20T10:00:00+08:00">
    <meta property="article:modified_time" content="2024-07-20T10:00:00+08:00">
    <meta property="article:tag" content="HomeLab">
    <meta property="article:tag" content="K3s">
    <meta property="article:tag" content="K8s">
    <meta property="article:tag" content="K9s">
    <meta property="article:tag" content="MinIO">
    <meta property="article:tag" content="Kubernetes">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Building Your First Kubeflow Pipeline: A Step-by-Step Guide">
  <meta name="twitter:description" content="In this blog post, I guide you through creating and running your first Kubeflow pipeline. We’ll start with the “Hello World” example, demonstrate how to manage sequential and shared pipelines, and explore artifact storage with MinIO. Additionally, I’ll introduce K9s, a powerful terminal-based UI for managing your Kubernetes clusters efficiently. By the end, you’ll have a solid understanding of setting up and managing Kubeflow pipelines in your machine learning workflows.">

  <meta itemprop="name" content="Building Your First Kubeflow Pipeline: A Step-by-Step Guide">
  <meta itemprop="description" content="In this blog post, I guide you through creating and running your first Kubeflow pipeline. We’ll start with the “Hello World” example, demonstrate how to manage sequential and shared pipelines, and explore artifact storage with MinIO. Additionally, I’ll introduce K9s, a powerful terminal-based UI for managing your Kubernetes clusters efficiently. By the end, you’ll have a solid understanding of setting up and managing Kubeflow pipelines in your machine learning workflows.">
  <meta itemprop="datePublished" content="2024-07-20T10:00:00+08:00">
  <meta itemprop="dateModified" content="2024-07-20T10:00:00+08:00">
  <meta itemprop="wordCount" content="663">
  <meta itemprop="keywords" content="HomeLab,K3s,K8s,K9s,MinIO,Kubernetes,KFP,Kubeflow,MLOps,IR YAML,Chocolatey"><title>Building Your First Kubeflow Pipeline: A Step-by-Step Guide | See Hiong&#39;s Blog</title>

    <link rel="canonical" href="https://seehiong.github.io/posts/2024/07/building-your-first-kubeflow-pipeline-a-step-by-step-guide/">

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    
    <link rel="stylesheet" href="/css/variables.css">
    
    <link rel="stylesheet" href="/css/base.css">
    
    <link rel="stylesheet" href="/css/layout.css">
    
    <link rel="stylesheet" href="/css/header.css">
    
    <link rel="stylesheet" href="/css/header.css">
    
    <link rel="stylesheet" href="/css/cards.css">
    
    <link rel="stylesheet" href="/css/content_elements.css">
    
    <link rel="stylesheet" href="/css/codeblocks.css">
    
    <link rel="stylesheet" href="/css/page_specific.css">
    
    <link rel="stylesheet" href="/css/shortcodes.css">
    
    <link rel="stylesheet" href="/css/components.css">
    
    <link rel="stylesheet" href="/css/animations.css">
    
    <link rel="stylesheet" href="/css/media_queries.css">
    
    <link rel="stylesheet" href="/css/quantum-theme.css">
    

    
    <script>
      (function() {
        var theme = localStorage.getItem('theme');
        var H = document.documentElement;
        if (theme === 'dark-mode') {
          H.classList.add('dark-mode');
        } else if (theme === 'light-mode') {
          H.classList.remove('dark-mode');
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          H.classList.add('dark-mode');
        }
      })();
    </script>
</head></head>
  <body class="page-article"><nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/" class="nav-logo-link" title="See Hiong&#39;s Blog - Home">
          <span class="nav-site-title">
            <span class="nav-site-title__main">SEE HIONG’S</span>
            <span class="nav-site-title__sub">BLOG</span>
          </span>
        </a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            
            
            <a href="/posts/" class="nav-item-content active">Archives</a>
            
          </div>
          
          
          <div class="nav-item-wrapper">
            <a href="/tags/" class="nav-item-content ">Tags</a>
          </div>
          <div class="nav-item-wrapper">
            <a href="/about/" class="nav-item-content ">About</a>
          </div>
          <div class="nav-item-wrapper nav-search-toggle-wrapper">
            <button id="nav-search-toggle" class="nav-item-button" aria-label="Toggle search" title="Search">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor" class="nav-item-icon">
                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
              </svg>
            </button>
          </div>
          
          
          <button id="theme-toggle" class="nav-item-button" aria-label="Toggle theme"></button> 
        </div>
      </div>
    </div>
  </div>
</nav>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    const themeToggle = document.getElementById('theme-toggle');
    const H = document.documentElement; 

    if (H.classList.contains('dark-mode')) {
      themeToggle.textContent = 'Light Mode';
    } else {
      themeToggle.textContent = 'Dark Mode';
    }

    themeToggle.addEventListener('click', function() {
      H.classList.toggle('dark-mode');
      if (H.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark-mode');
        themeToggle.textContent = 'Light Mode';
      } else {
        localStorage.setItem('theme', 'light-mode');
        themeToggle.textContent = 'Dark Mode';
      }
    });
  });
</script><div id="content-wrapper">
        <main class="container" id="main-content">
<div class="main-content-area">
  <article class="post-layout container">

    <header class="post-header">
      <h1 class="post-title">Building Your First Kubeflow Pipeline: A Step-by-Step Guide</h1>

      <div class="post-meta">
        <span class="post-meta__date">
          <time datetime="2024-07-20T10:00:00&#43;08:00">July 20, 2024</time>
        </span>

        
          <span class="post-meta__author">Written by See Hiong</span>
        

        
          <span class="post-meta__tags">
            In:
            
              <a href="/tags/homelab">HomeLab</a>
            
              , <a href="/tags/k3s">K3s</a>
            
              , <a href="/tags/k8s">K8s</a>
            
              , <a href="/tags/k9s">K9s</a>
            
              , <a href="/tags/minio">MinIO</a>
            
              , <a href="/tags/kubernetes">Kubernetes</a>
            
              , <a href="/tags/kfp">KFP</a>
            
              , <a href="/tags/kubeflow">Kubeflow</a>
            
              , <a href="/tags/mlops">MLOps</a>
            
              , <a href="/tags/ir-yaml">IR YAML</a>
            
              , <a href="/tags/chocolatey">Chocolatey</a>
            
          </span>
        

        
      </div>
    </header>

    
      
      
      <div class="post-cover-container post-cover--artistic-blur-wrapper">
        
          <div class="post-cover-blur-background" style="--bg-image: url('/images/kfp/building-your-first-kubeflow-pipeline-a-step-by-step-guide.png');"></div>
          <img src="/images/kfp/building-your-first-kubeflow-pipeline-a-step-by-step-guide.png" alt="Building Your First Kubeflow Pipeline: A Step-by-Step Guide cover image" class="post-cover-image post-cover-image--artistic-blur">
        
      </div>
    

    <section class="post-content">
      <p>






  <a href="https://www.kubeflow.org/docs/components/pipelines/overview/" target="_blank" rel="noopener noreferrer" >Kubeflow Pipelines (KFP)</a>
 is a powerful platform for creating and deploying scalable machine learning (ML) workflows using Docker containers. It enables data scientists and ML engineers to author workflows in Python, manage and visualize pipeline runs, and efficiently utilize compute resources. KFP supports custom ML components, leverages existing ones, and ensures cross-platform portability with a platform-neutral 






  <a href="https://www.kubeflow.org/docs/components/pipelines/user-guides/core-functions/compile-a-pipeline/#ir-yaml" target="_blank" rel="noopener noreferrer" >IR YAML definition</a>
. In this post, I’ll share my learnings about KFP v2.</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pip <span style="color:#6639ba">list</span> <span style="color:#0550ae">|</span> grep kfp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># Current versions</span>
</span></span><span style="display:flex;"><span>kfp                          <span style="color:#0550ae">2.8.0</span>
</span></span><span style="display:flex;"><span>kfp<span style="color:#0550ae">-</span>pipeline<span style="color:#0550ae">-</span>spec            <span style="color:#0550ae">0.3.0</span>
</span></span><span style="display:flex;"><span>kfp<span style="color:#0550ae">-</span>server<span style="color:#0550ae">-</span>api               <span style="color:#0550ae">2.0.5</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><h2 id="creating-a-pipeline">Creating a Pipeline</h2>
<p>Referencing the 






  <a href="https://github.com/kubeflow/pipelines/blob/master/samples/v2/hello_world.py" target="_blank" rel="noopener noreferrer" >Hello World</a>
 sample code, here is the result of running the <em>hello_world.py</em> notebook:</p>


































 
  
  





  <img src="/images/kfp/kfp-hello-world-pipeline-create-pipeline.png"   alt="kfp-hello-world-pipeline-create-pipeline" class="sc-image sc-image-default"
       >


<p>Download the <em>hello_world_pipeline.json</em> to your local drive:</p>


































 
  
  





  <img src="/images/kfp/kfp-hello-world-pipeline-json-file.png"   alt="kfp-hello-world-pipeline-json-file" class="sc-image sc-image-default"
       >


<h2 id="running-the-pipeline">Running the Pipeline</h2>
<p>Following the official 






  <a href="https://www.kubeflow.org/docs/components/pipelines/user-guides/core-functions/run-a-pipeline/" target="_blank" rel="noopener noreferrer" >Run a Pipeline</a>
 guide, I will run the pipeline by submitting it via the <strong>Upload pipeline</strong> button:</p>


































 
  
  





  <img src="/images/kfp/kfp-hello-world-pipeline-json.png"   alt="kfp-hello-world-pipeline-json" class="sc-image sc-image-default"
       >


<p>Next, from the <em>hello-world-pipeline</em> pipelines, click on the <strong>Create experiment</strong> button.</p>


































 
  
  





  <img src="/images/kfp/kfp-hello-world-pipeline-new-experiment.png"   alt="kfp-hello-world-pipeline-new-experiment" class="sc-image sc-image-default"
       >


<p>After a new run is triggered, select the pipeline and change the default pipeline-root according to your setup:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vim" data-lang="vim"><span style="display:flex;"><span><span style="color:#1f2328">minio</span>:<span style="color:#0a3069">//</span><span style="color:#1f2328">mlpipeline</span><span style="color:#0a3069">/v2/</span><span style="color:#1f2328">artifacts</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div>

































 
  
  





  <img src="/images/kfp/kfp-hello-world-pipeline-new-run.png"   alt="kfp-hello-world-pipeline-new-run" class="sc-image sc-image-default"
       >


<p>Here is the result of the run:</p>


































 
  
  





  <img src="/images/kfp/kfp-hello-world-pipeline-run.png"   alt="kfp-hello-world-pipeline-run" class="sc-image sc-image-default"
       >


<h2 id="sequential-pipeline">Sequential Pipeline</h2>
<p>Referencing the 






  <a href="https://github.com/kubeflow/pipelines/blob/master/samples/core/sequential/sequential.py" target="_blank" rel="noopener noreferrer" >Sequential</a>
 sample code, here is the final run result:</p>


































 
  
  





  <img src="/images/kfp/kfp-sequential-pipeline-run.png"   alt="kfp-sequential-pipeline-run" class="sc-image sc-image-default"
       >


<p>Here is a view of all the runs:</p>


































 
  
  





  <img src="/images/kfp/kfp-pipeline-runs.png"   alt="kfp-pipeline-runs" class="sc-image sc-image-default"
       >


<h2 id="shared-pipelines">Shared Pipelines</h2>
<p>To run the shared pipleine, click on the <em>Data passing in python components</em> pipeline:</p>


































 
  
  





  <img src="/images/kfp/kfp-shared-pipelines.png"   alt="kfp-shared-pipelines" class="sc-image sc-image-default"
       >


<p>Similar to our own pipelines, after clicking on the <strong>Create experiment</strong> button, start a new run. Here is the sample run result:</p>


































 
  
  





  <img src="/images/kfp/kfp-shared-pipeline-run.png"   alt="kfp-shared-pipeline-run" class="sc-image sc-image-default"
       >


<h2 id="artifacts">Artifacts</h2>
<p>As expected, the artifacts are stored in the default MinIO path:</p>


































 
  
  





  <img src="/images/kfp/kfp-shared-pipeline-artifacts.png"   alt="kfp-shared-pipeline-artifacts" class="sc-image sc-image-default"
       >


<h2 id="minio-browser">MinIO Browser</h2>
<p>To open the MinIO browser, you can do a port-forward and navigate to <em>http://localhost:9000/</em>. The default username is <strong>minio</strong> and password is <strong>minio123</strong>:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>kubectl port-forward -n kubeflow svc/minio-service 9000:9000</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>Here is the view from the MinIO Browser:</p>


































 
  
  





  <img src="/images/kfp/kfp-minio-tutorial-data-passing.png"   alt="kfp-minio-tutorial-data-passing" class="sc-image sc-image-default"
       >


<h2 id="k9s">K9s</h2>
<p>As managing the many Kubeflow pods can be overwhelming, I would like to introduce 






  <a href="https://k9scli.io/" target="_blank" rel="noopener noreferrer" >K9s</a>
, a terminal-based UI to interact with your K8s clusters.</p>
<p>To install K9s on Windows via Chocolatey, use the following command:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>choco install k9s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># To upgrade in elevated shell</span>
</span></span><span style="display:flex;"><span>choco upgrade k9s</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div>

































 
  
  





  <img src="/images/kfp/kfp-interaction-via-k9s.png"   alt="kfp-interaction-via-k9s" class="sc-image sc-image-default"
       >


<p>To achieve the same MinIO browser port-forward, follow these steps:</p>
<ol>
<li>Type : (colon) and enter <strong>svc</strong> as the resource to view all the services</li>
<li>Type / (slash) and enter <strong>minio</strong> to perform a search for the service</li>
<li>Press Enter to go to the pod view and type <strong>shift-f</strong> for the port-forward</li>
</ol>


































 
  
  





  <img src="/images/kfp/kfp-minio-port-forward-with-k9s.png"   alt="kfp-minio-port-forward-with-k9s" class="sc-image sc-image-default"
       >



<div class="admonition note">
  <div class="admonition-heading">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor" class="admonition-icon">
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"/>
    </svg>
    <span class="admonition-title">Note</span>
  </div>
  <div class="admonition-content">
    You may have to copy the contents of <em>.kube/config</em> from your master node to your <em>%USER%/.kube/config</em> file
  </div>
</div>
<p>Some other useful commands are:</p>
<ul>
<li>Press <strong>ctrl-a</strong> at any time to see all resources</li>
<li>Press <strong>?</strong> to see contextual help</li>
<li>Press <strong>esc</strong> to return to the previous resource</li>
<li>Press <strong>ctrl-c</strong> to quit K9s</li>
</ul>
<h2 id="optional---run-pipeline-from-kfp-sdk-client">Optional - Run Pipeline from KFP SDK client</h2>
<p>To run a pipeline from the KFP SDK client, your notebook must have access to KFP. Referencing the 






  <a href="https://github.com/kubeflow/pipelines/blob/master/samples/core/XGBoost/xgboost_sample.py" target="_blank" rel="noopener noreferrer" >XGBoost</a>
 sample code, here is the result:</p>


































 
  
  





  <img src="/images/kfp/kfp-xgboost-pipeline-run.png"   alt="kfp-xgboost-pipeline-run" class="sc-image sc-image-default"
       >


<p>However, there are some RBAC errors. When I click on the Experiment details link, here is the result:</p>


































 
  
  





  <img src="/images/kfp/kfp-xgboost-pipeline-experiment.png"   alt="kfp-xgboost-pipeline-experiment" class="sc-image sc-image-default"
       >


<p>And here is the Run details result:</p>


































 
  
  





  <img src="/images/kfp/kfp-xgboost-pipeline-run-errors.png"   alt="kfp-xgboost-pipeline-run-errors" class="sc-image sc-image-default"
       >


<h2 id="troubleshooting">Troubleshooting</h2>

<details class="details-shortcode " >
  <summary class="details-shortcode__summary">
    Failed to read a token from file
  </summary>
  <div class="details-shortcode__content">
    
    
    <p>If you encounter this error when running a pipeline from the KFP client (default location: <em>/var/run/secrets/kubeflow/pipelines/token</em>):</p>
<p><img src="/images/kfp/kfp-failed-to-read-a-token-from-file.png" alt="kfp-failed-to-read-a-token-from-file"></p>
<p>Please proceed to the next error for the fix.</p>

  </div>
</details>

<details class="details-shortcode " >
  <summary class="details-shortcode__summary">
    Missing Configurations - Allow access to Kubeflow Pipelines
  </summary>
  <div class="details-shortcode__content">
    
    
    <p>You might not see this configuration when creating a new notebook:</p>
<p><img src="/images/kfp/kfp-allow-access-to-kubeflow-pipelines.png" alt="kfp-allow-access-to-kubeflow-pipelines"></p>
<p>Referencing the 






  <a href="https://www.kubeflow.org/docs/components/pipelines/user-guides/core-functions/connect-api/" target="_blank" rel="noopener noreferrer" >Connect API</a>
, you may need to use Kubeflow&rsquo;s PodDefaults to inject the ServiceAccount token volume into your Pods.</p>
<p><img src="/images/kfp/kfp-access-ml-pipeline-kubeflow-user-example-com.png" alt="kfp-access-ml-pipeline-kubeflow-user-example-com"></p>
<p>To address this issue, pull the latest 






  <a href="https://github.com/kubeflow/manifests.git" target="_blank" rel="noopener noreferrer" >Kubeflow Manifest</a>
 and apply the necessary configurations as follows:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6639ba">cd</span> manifests
</span></span><span style="display:flex;"><span>kubectl apply -f tests/gh-actions/kf-objects/poddefaults.access-ml-pipeline.kubeflow-user-example-com.yaml</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div>
  </div>
</details>

<details class="details-shortcode " >
  <summary class="details-shortcode__summary">
    Could not find CSRF cookie XSRF-TOKEN in the request
  </summary>
  <div class="details-shortcode__content">
    
    
    <p>If you encounter this issue, it could mean that you are exposing Kubeflow over HTTP.</p>
<p><img src="/images/kfp/kfp-could-not-find-csrf-cookie-xsrf-token.png" alt="kfp-could-not-find-csrf-cookie-xsrf-token"></p>
<p>While not recommended due to security risks, if this is for a home lab setup like mine, you may edit <em>apps/jupyter/jupyter-web-app/upstream/base/params.env</em> and set <strong>APP_SECURE_COOKIES</strong> to false as follows:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>JWA_APP_SECURE_COOKIES=false</span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div><p>You may wish to change these as well:</p>






<div class="code-block-wrapper">
  <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>TWA_APP_SECURE_COOKIES=false<span style="color:#fff"> </span><span style="color:#57606a"># in apps/tensorboard/tensorboards-web-app/upstream/base/params.env</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span>VWA_APP_SECURE_COOKIES=false<span style="color:#fff"> </span><span style="color:#57606a"># in apps/volumes-web-app/upstream/base/params.env</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span>APP_SECURE_COOKIES=false<span style="color:#fff"> </span><span style="color:#57606a"># in contrib/kserve/models-web-app/overlays/kubeflow/kustomization.yaml</span></span></span></code></pre></div>
  <button class="copy-code-button" aria-label="Copy code to clipboard" title="Copy code">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="copy-icon">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="check-icon" style="display:none;">
      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
    </svg>
    <span class="copy-text">Copy</span>
  </button>
</div>
  </div>
</details>

    </section>

    <nav class="post-navigation">
      <div class="nav-links">
        
          <div class="nav-previous">
            <a href="/posts/2024/07/integrating-draw.io-and-plantuml-with-gitlab/" rel="prev">
              <span class="meta-nav">← Previous</span>
              <span class="post-title">Integrating Draw.io and PlantUML with GitLab</span>
            </a>
          </div>
        
        
          <div class="nav-next">
            <a href="/posts/2024/08/setting-up-kafka-with-microk8s-and-multipass/" rel="next">
              <span class="meta-nav">Next →</span>
              <span class="post-title">Setting Up Kafka with MicroK8s and Multipass</span>
            </a>
          </div>
        
      </div>
    </nav>

    
<div class="giscus-comments-container">
</div>

<script>
  (function() {
    'use strict';

    const getGiscusTheme = () => {
      const storedTheme = localStorage.getItem('theme'); 
      if (storedTheme) {
        return storedTheme === 'dark-mode' ? 'dark' : 'light';
      }
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };

    const setGiscusFrameTheme = (theme) => {
      const iframe = document.querySelector('iframe.giscus-frame');
      if (iframe && iframe.contentWindow) {
        iframe.contentWindow.postMessage({ giscus: { setConfig: { theme: theme } } }, 'https://giscus.app');
      }
    };

    const loadGiscus = () => {
      const giscusContainer = document.querySelector('.giscus-comments-container');
      if (!giscusContainer) {
        console.warn('Giscus container not found.');
        return;
      }

      while (giscusContainer.firstChild) {
        giscusContainer.removeChild(giscusContainer.firstChild);
      }

      const giscusScript = document.createElement('script');
      const giscusAttributes = {
        "src": "https://giscus.app/client.js",
        "data-repo":             "seehiong\/seehiong.github.io",
        "data-repo-id":          "R_kgDOJg7Puw",
        "data-category":         "General",
        "data-category-id":      "DIC_kwDOJg7Pu84Cbyhc",
        "data-mapping":          "url", 
        "data-strict":           "0",
        "data-reactions-enabled":"1",
        "data-emit-metadata":    "0",
        "data-input-position":   "top", 
        "data-theme":            getGiscusTheme(), 
        "data-lang":             "en",
        "data-loading":          "lazy",
        "crossorigin":           "anonymous",
        "async":                 "true", 
      };

      if (!giscusAttributes["data-repo"] || !giscusAttributes["data-repo-id"] || !giscusAttributes["data-category-id"]) {
          console.error("Giscus parameters (giscusRepo, giscusRepoId, giscusCategoryId) are not configured in hugo.toml.");
          giscusContainer.innerHTML = "<p style='color: var(--text-secondary);'>Giscus comments are not configured correctly. Please check site parameters.</p>";
          return;
      }

      Object.entries(giscusAttributes).forEach(
        ([key, value]) => giscusScript.setAttribute(key, value)
      );
      giscusContainer.appendChild(giscusScript);
    };

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadGiscus);
    } else {
        loadGiscus();
    }

    const htmlElement = document.documentElement;
    const observer = new MutationObserver((mutationsList) => {
      for (const mutation of mutationsList) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
          setGiscusFrameTheme(getGiscusTheme());
        }
      }
    });
    observer.observe(htmlElement, { attributes: true });

  })();
</script>


  </article>
</div>
</main>
    </div>

    
    <div id="search-modal-overlay" class="search-modal-overlay" style="display: none;">
      <div id="search-modal-content" class="search-modal-content">
        <button id="search-modal-close" class="search-modal-close" aria-label="Close search" title="Close search">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
        <input type="search" id="modal-search-input" class="modal-search-input" placeholder="Search content..." aria-label="Search input">
        <div id="modal-search-results" class="modal-search-results">
        </div>
      </div>
    </div>
    

  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js" defer></script>
  <script>
    (function() {
      'use strict';

      window.addEventListener('DOMContentLoaded', () => {
        const searchModalOverlay = document.getElementById('search-modal-overlay');
        const searchModalContent = document.getElementById('search-modal-content');
        const searchModalCloseButton = document.getElementById('search-modal-close');
        const searchToggleButton = document.getElementById('nav-search-toggle');
        const searchInputTarget = document.getElementById('modal-search-input');
        const searchResultsTarget = document.getElementById('modal-search-results');

        let fuseInstance = null;
        let searchData = [];

        const loadSearchData = async () => {
          if (searchData.length === 0 && !fuseInstance) {
            try {
              const response = await fetch('\/index.json');
              if (!response.ok) {
                throw new Error(`HTTP error loading index.json! status: ${response.status}`);
              }
              searchData = await response.json();
              initializeFuse();
            } catch (e) {
              console.error("[SearchSetup] Error loading search data:", e);
              if (searchResultsTarget) searchResultsTarget.innerHTML = "<p>Error loading search index.</p>";
            }
          } else if (searchData.length > 0 && !fuseInstance){
            initializeFuse();
          }
        };

        const initializeFuse = () => {
          if (searchData.length > 0 && !fuseInstance) {
            const options = {
              keys: [
                { name: 'title', weight: 0.7 }, { name: 'summary', weight: 0.5 },
                { name: 'content', weight: 0.3 }, { name: 'tags', weight: 0.4 }
              ],
              includeScore: true, threshold: 0.4, minMatchCharLength: 2,
            };
            fuseInstance = new Fuse(searchData, options);
          }
        };

        const performSearch = () => {
          if (!fuseInstance || !searchInputTarget || !searchResultsTarget) return;
          const query = searchInputTarget.value.trim();
          searchResultsTarget.innerHTML = '';
          if (query.length < 2) return;

          const results = fuseInstance.search(query);
          if (results.length > 0) {
            const ul = document.createElement('ul');
            ul.className = 'search-results-list';
            results.slice(0, 10).forEach(result => {
              const item = result.item;
              const li = document.createElement('li');
              li.className = 'search-result-item';
              const a = document.createElement('a');
              a.href = item.permalink;
              a.textContent = item.title;
              li.appendChild(a);
              ul.appendChild(li);
            });
            searchResultsTarget.appendChild(ul);
          } else {
            searchResultsTarget.innerHTML = '<p>No results found.</p>';
          }
        };

        const openSearchModal = async () => {
          await loadSearchData();
          if (searchInputTarget) searchInputTarget.value = '';
          if (searchResultsTarget) searchResultsTarget.innerHTML = '';

          if (searchModalOverlay) {
            searchModalOverlay.style.display = 'flex';
            setTimeout(() => searchModalOverlay.classList.add('active'), 10);
          } else { return; }

          if (searchInputTarget) setTimeout(() => searchInputTarget.focus(), 50);
          if (searchToggleButton) searchToggleButton.classList.add('active');
        };

        const closeSearchModal = () => {
          if (searchModalOverlay) {
            searchModalOverlay.classList.remove('active');
            setTimeout(() => searchModalOverlay.style.display = 'none', 300);
          }
          if (searchToggleButton) searchToggleButton.classList.remove('active');
        };

        if (searchToggleButton) {
          searchToggleButton.addEventListener('click', (e) => {
            e.stopPropagation();
            if (searchModalOverlay && searchModalOverlay.classList.contains('active')) {
              closeSearchModal();
            } else {
              openSearchModal();
            }
          });
        } else { console.error("[SearchSetup] #nav-search-toggle button not found."); }

        if (searchModalCloseButton) { searchModalCloseButton.addEventListener('click', closeSearchModal); }
        if (searchModalOverlay && searchModalContent) {
          searchModalOverlay.addEventListener('click', (event) => {
            if (event.target === searchModalOverlay) closeSearchModal();
          });
        }
        document.addEventListener('keydown', (event) => {
          if (event.key === 'Escape' && searchModalOverlay && searchModalOverlay.classList.contains('active')) {
            closeSearchModal();
          }
        });
        if (searchInputTarget) {
          let debounceTimer;
          searchInputTarget.addEventListener('input', () => {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(performSearch, 300);
          });
        }
      });
    })();
  </script>

    

    

  <script>
    MathJax = {
      tex: {
        displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        inlineMath: [['\\(', '\\)']], 
        processEscapes: true,
        processEnvironments: true,
        tags: 'ams' 
      },
      svg: {
        fontCache: 'global' 
      },
      chtml: {
        fontURL: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2'
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'], 
        ignoreHtmlClass: 'tex2jax_ignore', 
        processHtmlClass: 'tex2jax_process'
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<footer class="footer-main simplified-footer">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="footer-content">
        <div class="copyright-line">
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> © 2025 See Hiong. All rights reserved.
        </div>
        <div class="social-links">
          
            <a href="https://github.com/seehiong" target="_blank" title="GitHub" class="social-link" aria-label="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
            </a>
          
          
            <a href="https://www.linkedin.com/in/seehiong/" target="_blank" title="LinkedIn" class="social-link" aria-label="LinkedIn">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
            </a>
          
          
            <a href="/index.xml" target="_blank" title="RSS" class="social-link" aria-label="RSS Feed">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg>
            </a>
          
        </div>
      </div>
    </div>
  </div>
</footer>
        <script src="/js/animation.js" defer></script>
    
        <script src="/js/code-copy.js" defer></script>
    
        <script src="/js/scroll-header.js" defer></script>
       
  </body>
</html>